)]}'
{"version":3,"file":"/lib/router.coffee.js","sources":["router.coffee"],"names":[],"mappings":";AAAA,MAAM,CAAC,SAAP,CACE;kBAAgB,QAAhB;EACA,kBAAkB,UADlB;EAEA,iBAAiB,SAFjB;CADF;;AAIA;;;;;GAJA;;MAUM,CAAC,GAAP,CAAW;AACT,MAAC,MAAD,CAAO,QAAP,EACE;UAAM,GAAN;IACA,eAAe;aAAG,IAAI,CAAC,MAAL,CAAY,OAAZ,EAAH;KADf;IAEA,QAAQ;AACN;cAAC,MAAM,CAAC,SAAP,CAAiB,OAAjB,uCAAuC,CAAE,iBAAzC,EAAmD,MAAM,CAAC,SAAP,CAAiB,UAAjB,yCAA0C,CAAE,iBAA5C,CAAnD,CAAD,EADM;KAFR;GADF;EAMA,IAAC,MAAD,CAAO,KAAP,CANA;EAQA,IAAC,MAAD,CAAO,OAAP,EACE;UAAM,QAAN;IACA,QAAQ;AACN;cAAC,MAAM,CAAC,SAAP,CAAiB,OAAjB,uCAAuC,CAAE,iBAAzC,CAAD,EADM;KADR;IAGA,MAAM;AACJ;cAAQ,EAAR;MACA,QAAS,KAAK,CAAC,IAAN,CACP;gBAAO,IAAP;QACA,MAAM;2BAAgB,EAAhB;SADN;OADO,CADT;MAKA,QAAQ,KALR;aAMA,MAPI;KAHN;GADF,CARA;EAqBA,IAAC,MAAD,CAAO,UAAP,EACE;UAAK,YAAL;IAEA,QAAQ;AACN;cAAC,MAAM,CAAC,SAAP,CAAiB,UAAjB,uCAA0C,CAAE,iBAA5C,EAAsD,IAAC,OAAM,CAAC,GAA9D,CAAD,EADM;KAFR;IAIA,MAAK;AACH;aAAO,KAAK,CAAC,OAAN,CAAc;aAAK,IAAC,OAAM,CAAC,GAAb;OAAd,CAAP;AACA,UAAG,YAAH;AACE,YAAI,CAAC,QAAL,GAAgB,KAAK,CAAC,IAAN,CACd;kBAAQ,IAAC,OAAM,CAAC,GAAhB;UACA,MAAM;kBAAM,CAAN;WADN;SADc,CAAhB;eAIA,KALF;;eAOE,GAPF;OAFG;KAJL;GADF,CArBA;SAqCA,IAAC,MAAD,CAAO,QAAP,EACE;YAAQ;aACN,CAAC,MAAM,CAAC,SAAP,CAAiB,UAAjB,CAAD,EADM;KAAR;IAEA,MAAM;aACJ,KAAK,CAAC,IAAN,CAAW,EAAX,EADI;KAFN;GADF,EAtCS;CAAX,CAVA;;AAqDA;;;;;GArDA;A","sourcesContent":["Router.configure\n  layoutTemplate: 'layout'\n  notFoundTemplate: 'notFound'\n  loadingTemplate: 'loading'\n###\n  waitOn: -> \n    Meteor.subscribe 'posts', Meteor.userId()\n    #Meteor.subscribe 'comments', @_id\n###\n  \nRouter.map -> # => will not work\n  @route 'splash', \n    path: '/'\n    onAfterAction: -> this.render 'posts' #doesn't work?\n    waitOn: ->\n      [Meteor.subscribe \"posts\", Meteor.user()?.username, Meteor.subscribe \"appusers\", Meteor.user()?.username]\n\n  @route 'new'\n  \n  @route 'posts',\n    path: '/posts'\n    waitOn: ->\n      [Meteor.subscribe \"posts\", Meteor.user()?.username]\n    data: ->\n      posts = {} \n      found = (Posts.find \n        parent:null, \n        sort: lastCommentDate:-1)#.fetch()   \n      #posts.posts = found\n      posts = found\n      posts\n\n  @route 'fullPost', \n    path:'/post/:_id'\n    #data: \n    waitOn: ->\n      [Meteor.subscribe \"fullpost\", Meteor.user()?.username, @params._id]\n    data:->\n      post = Posts.findOne _id: @params._id\n      if post?\n        post.comments = Posts.find \n          parent: @params._id \n          sort: date: 1\n        #post.commentsList.comments = post.comments\n        post\n      else\n        {}\n\n  @route 'layout',\n    waitOn: ->\n      [Meteor.subscribe 'appusers']\n    data: ->\n      WList.find {}\n###\n  @route 'searchResults',\n    path: '/posts/:searchKey'\n    data: -> Posts.find title: @params.searchKey\n###\n"]}