)]}'
{"version":3,"file":"/client/bigColumn/posts.coffee.js","sources":["posts.coffee"],"names":[],"mappings":"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","sourcesContent":["###\nTemplate.searchform.events \n\t'click #search': (e,t) ->\n\t\tunless key = $('#searchKey').val()?\n\t\t\treturn\n\t\telse\n\t\t\tMeteor.go \"searchResults\"\n\n\n###\nTemplate.wlist.visible = ->\n\tMeteor.user()?.username in ['J.K', 'athena'] #this is not safe\nTemplate.wlist.jk = ->\n\tMeteor.user()?.username is 'J.K' #not safe\n\nTemplate.wlist.events\n\t'click #addUser':(e,t) ->\n\t\tunless (username = ($ '#username').val()?.trim())?\n\t\t\treturn\n\t\telse\t\n\t\t\tMeteor.call \"addUser\", Meteor.user().username, username\n\t\t\t$('#username').val('').select().focus()\n\t\t\te.preventDefault()\n\t\t\t#console.log this, username\n\t'click #removeUser':(e,t) ->\n\t\tunless (username = ($ '#username').val()?.trim())?\n\t\t\treturn\n\t\telse\t\n\t\t\tMeteor.call \"removeUser\", Meteor.user().username, username\n\t\t\t$('#username').val('').select().focus()\n\t\t\te.preventDefault()\n\t\t\t#console.log this, username\n\nTemplate.posts.helpers\n\tposts: -> \n\t\t#console.log this\n\t\t#this.data.value\n\t\tPosts.find parent:null, \n\t\t\tsort: lastCommentDate:-1\t\n\nTemplate.commentsList.helpers\n\tcomments: ->\n\t\tPosts.find parent: @_id,\n\t\t\tsort: date: 1\n\nTemplate.new.events\n\t'click #submitNew': (e,t)->\n\t\tunless title = ($ '#title').val()?.trim()\n\t\t\talert \"title can't be empty\"\n\t\telse\n\t\t\tcontent = ($ '#content').val()#?.trim()\n\t\t\t#console.log this, 'clicked'\n\n\t\t\tMeteor.call \"addPost\",\n\t\t\t\tparent: null \n\t\t\t\ttitle: title\n\t\t\t\tcontent: content\n\t\t\t\t#comments:[]\n\t\t\tRouter.go 'posts'\n\t\t\te.preventDefault() # prevent from re-rendering whole page\n\t\n\t'click #cancel': (e,t)->\n\t\t$('#title').val('')\n\t\t$('#content').val('')\n\t\tRouter.go 'posts'\n\t\te.preventDefault() # prevent from re-rendering whole page\n\t\t\nTemplate.newComment.events\n\t'click #submit': (e,t) ->\n\t\ttitle = ($ '#title').val()?.trim()\n\t\tcontent = ($ '#content').val()#?.trim()\n\t\tunless title \n\t\t\tunless content?\n\t\t\t\treturn\n\t\t\t#console.log this, 'clicked'\n\t\t\n\t\tMeteor.call \"addPost\",\n\t\t\tparent: @_id \n\t\t\ttitle: title\n\t\t\tcontent: content\n\t\t\t#comments:[]\n\n\t\t$('#content').val('')\n\n\t\t$('#title').val('').select().focus()\n\t\te.preventDefault() # prevent from re-rendering whole page\n\t\t\t\n\t'click #cancel': (e,t)->\n\t\t$('#content').val ''\n\t\t$('#title').val('').select().focus()\n\t\te.preventDefault() # prevent from re-rendering whole page\n"]}