)]}'
{"version":3,"file":"/packages/aslagle:reactive-table.js","sources":["aslagle:reactive-table/lib/reactive_table.html","aslagle:reactive-table/lib/reactive_table_i18n.js","aslagle:reactive-table/lib/reactive_table.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,sC;AACA,gF;AACA,kB;AACA,oC;AACA,2D;AACA,iB;AACA,4C;AACA,uD;AACA,mB;AACA,qC;AACA,oD;AACA,4C;AACA,0D;AACA,S;AACA,iC;AACA,uD;AACA,oC;AACA,oC;AACA,gD;AACA,6D;AACA,qB;AACA,6C;AACA,iC;AACA,+B;AACA,qB;AACA,4D;AACA,iF;AACA,+B;AACA,gE;AACA,6D;AACA,qB;AACA,4C;AACA,uD;AACA,uB;AACA,6B;AACA,6D;AACA,Y;AACA,mC;AACA,mF;AACA,W;AACA,6B;AACA,qB;AACA,4C;AACA,uD;AACA,uB;AACA,6B;AACA,6D;AACA,W;AACA,6B;AACA,iD;AACA,8B;AACA,2B;AACA,qG;AACA,Q;AACA,0C;AACA,wD;AACA,O;AACA,2F;AACA,mD;AACA,mB;AACA,sD;AACA,yK;AACA,qB;AACA,0D;AACA,2K;AACA,uB;AACA,kD;AACA,iC;AACA,gF;AACA,c;AACA,+B;AACA,kH;AACA,a;AACA,4D;AACA,+D;AACA,4B;AACA,2B;AACA,oB;AACA,4B;AACA,2B;AACA,oB;AACA,2D;AACA,iH;AACA,yB;AACA,oE;AACA,wF;AACA,2B;AACA,2D;AACA,yC;AACA,6C;AACA,2B;AACA,iE;AACA,iC;AACA,wB;AACA,6C;AACA,yC;AACA,yB;AACA,oE;AACA,wF;AACA,2B;AACA,2D;AACA,0C;AACA,6C;AACA,2B;AACA,iE;AACA,iC;AACA,wB;AACA,6C;AACA,yC;AACA,0D;AACA,uB;AACA,8D;AACA,6D;AACA,yB;AACA,sD;AACA,mC;AACA,kF;AACA,gB;AACA,iC;AACA,oH;AACA,e;AACA,sC;AACA,iE;AACA,wC;AACA,yB;AACA,sD;AACA,mC;AACA,iE;AACA,gB;AACA,iC;AACA,oH;AACA,e;AACA,sC;AACA,iE;AACA,wC;AACA,mC;AACA,+B;AACA,2B;AACA,6C;AACA,8D;AACA,mB;AACA,4C;AACA,4C;AACA,yC;AACA,2B;AACA,8C;AACA,0D;AACA,wB;AACA,4F;AACA,U;AACA,iC;AACA,4F;AACA,qD;AACA,qB;AACA,uC;AACA,4F;AACA,S;AACA,0D;AACA,qD;AACA,qB;AACA,sD;AACA,8B;AACA,mB;AACA,2B;AACA,yB;AACA,4B;AACA,yG;AACA,2K;AACA,uB;AACA,iE;AACA,6B;AACA,wB;AACA,+B;AACA,kH;AACA,a;AACA,+C;AACA,uB;AACA,iE;AACA,6B;AACA,+B;AACA,kH;AACA,a;AACA,+C;AACA,mE;AACA,6D;AACA,oG;AACA,gG;AACA,gG;AACA,uD;AACA,mB;AACA,wC;AACA,6B;AACA,oG;AACA,S;AACA,kD;AACA,0E;AACA,qB;AACA,0D;AACA,6K;AACA,uB;AACA,kD;AACA,iC;AACA,4D;AACA,a;AACA,kC;AACA,uD;AACA,yB;AACA,8C;AACA,uD;AACA,2B;AACA,mD;AACA,gF;AACA,iB;AACA,e;AACA,yB;AACA,0C;AACA,oF;AACA,e;AACA,oC;AACA,+B;AACA,0C;AACA,+D;AACA,2D;AACA,mB;AACA,qC;AACA,6C;AACA,4C;AACA,0D;AACA,S;AACA,4C;AACA,wE;AACA,qB;AACA,2C;AACA,yD;AACA,+D;AACA,+E;AACA,0B;AACA,yB;AACA,kB;AACA,wB;AACA,kC;AACA,uB;AACA,6B;AACA,qE;AACA,W;AACA,0B;AACA,yB;AACA,kB;AACA,mC;AACA,sF;AACA,6C;AACA,kC;AACA,qD;AACA,8C;AACA,4D;AACA,qB;AACA,+C;AACA,kC;AACA,yB;AACA,uB;AACA,kB;AACA,2B;AACA,yB;AACA,kB;AACA,0B;AACA,yB;AACA,kB;AACA,6B;AACA,4D;AACA,6E;AACA,wB;AACA,uB;AACA,gB;AACA,sB;AACA,gC;AACA,qB;AACA,2B;AACA,mE;AACA,S;AACA,wB;AACA,uB;AACA,gB;AACA,iC;AACA,2E;AACA,sC;AACA,+D;AACA,gD;AACA,2D;AACA,qB;AACA,+C;AACA,8B;AACA,yB;AACA,yB;AACA,kB;AACA,0B;AACA,yB;AACA,kB;AACA,0B;AACA,uB;AACA,kB;AACA,8B;AACA,iD;AACA,iB;AACA,K;AACA,I;;;;;;;;;;;;;;;;;;;ACjTA,gB;AACA,oB;AACA,yB;AACA,qB;AACA,qC;AACA,qB;AACA,gB;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,yB;AACA,qB;AACA,uC;AACA,qB;AACA,iB;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,yB;AACA,yB;AACA,yC;AACA,yB;AACA,gB;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,yB;AACA,0B;AACA,wC;AACA,uB;AACA,gB;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,yB;AACA,uB;AACA,yC;AACA,uB;AACA,iB;AACA,K;AACA,G;;AAEA,mB;AACA,oB;AACA,yB;AACA,wB;AACA,yC;AACA,uB;AACA,gB;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,yB;AACA,uB;AACA,wC;AACA,uB;AACA,gB;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,yB;AACA,qB;AACA,sC;AACA,qB;AACA,gB;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,yB;AACA,yB;AACA,yC;AACA,yB;AACA,e;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,2B;AACA,uB;AACA,kC;AACA,sB;AACA,iB;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,yB;AACA,uB;AACA,yC;AACA,uB;AACA,e;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,yB;AACA,uB;AACA,uC;AACA,uB;AACA,e;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,wB;AACA,oB;AACA,mC;AACA,qB;AACA,kB;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,yB;AACA,sB;AACA,wC;AACA,sB;AACA,iB;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,0B;AACA,sB;AACA,qC;AACA,qB;AACA,iB;AACA,K;AACA,G;;AAEA,gB;AACA,oB;AACA,yB;AACA,oB;AACA,sC;AACA,qB;AACA,gB;AACA,K;AACA,G;;;;;;;;;;;;;;;;;;;AC9JA,0C;AACA,0C;AACA,E;;AAEA,mD;AACA,oD;AACA,E;;AAEA,iD;AACA,mD;AACA,E;;AAEA,iD;AACA,kD;AACA,E;;AAEA,4C;AACA,4C;AACA,E;;AAEA,+D;AACA,gE;AACA,E;;AAEA,oD;AACA,qD;AACA,E;;AAEA,mD;AACA,oD;AACA,E;;AAEA,gC;AACA,8B;AACA,kB;;AAEA,+B;AACA,0D;AACA,+B;AACA,mE;AACA,6B;AACA,c;AACA,uB;AACA,O;AACA,K;;AAEA,e;AACA,E;;AAEA,qC;AACA,6C;AACA,uC;AACA,mD;AACA,qD;AACA,oC;AACA,qC;AACA,oD;AACA,kC;AACA,qD;AACA,yC;AACA,uC;AACA,e;AACA,oD;AACA,qC;AACA,kE;AACA,oC;AACA,qD;AACA,gD;AACA,uC;AACA,c;AACA,0D;AACA,mD;AACA,c;AACA,qD;AACA,8C;AACA,c;AACA,uG;AACA,gB;AACA,wH;AACA,qD;AACA,S;AACA,K;;AAEA,uC;AACA,oC;AACA,uC;AACA,yC;AACA,sE;AACA,K;;AAEA,2C;AACA,wC;AACA,8C;AACA,gB;AACA,yB;AACA,S;AACA,M;;AAEA,0C;AACA,yB;AACA,iC;AACA,6F;AACA,+C;AACA,a;AACA,S;AACA,qC;AACA,M;;AAEA,uC;;AAEA,2B;AACA,wC;AACA,+E;AACA,gC;AACA,S;AACA,O;;AAEA,wE;AACA,0F;AACA,oF;AACA,2D;AACA,iK;AACA,gG;AACA,yD;AACA,mC;AACA,6E;AACA,K;AACA,+F;;AAEA,+D;AACA,uC;AACA,2B;AACA,iD;AACA,K;;AAEA,Y;AACA,qB;AACA,+B;AACA,2B;AACA,uB;AACA,gD;AACA,+B;AACA,sD;AACA,0B;AACA,M;AACA,E;;AAEA,iD;AACA,qC;AACA,mC;AACA,qB;AACA,wC;;AAEA,wB;AACA,wB;AACA,mC;AACA,sB;AACA,4C;AACA,gF;AACA,gC;AACA,gC;AACA,oB;AACA,qD;AACA,a;AACA,iD;AACA,4C;AACA,6D;AACA,oB;AACA,+B;AACA,wD;AACA,a;AACA,gB;AACA,+B;AACA,S;AACA,O;AACA,mB;AACA,E;;AAEA,+C;AACA,+B;AACA,yD;AACA,uB;AACA,iB;AACA,gD;AACA,+C;AACA,qC;AACA,6C;AACA,+D;AACA,+B;AACA,yD;AACA,4C;AACA,gB;AACA,oD;AACA,yC;AACA,+E;AACA,qD;AACA,iB;AACA,e;AACA,yC;AACA,2D;AACA,4C;AACA,a;AACA,W;AACA,K;AACA,uD;AACA,E;;AAEA,mD;AACA,wE;AACA,8D;AACA,0D;AACA,0C;AACA,E;;AAEA,gC;AACA,yC;;AAEA,mC;AACA,+D;AACA,mC;AACA,qC;AACA,iC;AACA,M;;AAEA,wC;AACA,uC;AACA,M;;AAEA,2B;AACA,gC;AACA,M;;AAEA,6B;AACA,0D;AACA,M;;AAEA,kD;AACA,kF;AACA,M;;AAEA,+B;AACA,oB;AACA,M;;AAEA,kD;AACA,mG;AACA,M;;AAEA,sC;AACA,2E;AACA,qC;AACA,M;;AAEA,+B;AACA,gF;AACA,sE;AACA,2D;;AAEA,sE;AACA,4E;AACA,uC;AACA,kE;;AAEA,2D;AACA,iE;AACA,0D;AACA,yE;AACA,e;AACA,uC;AACA,0C;AACA,a;AACA,oD;AACA,gB;AACA,2D;AACA,+B;AACA,+C;;AAEA,sD;AACA,gC;AACA,2B;AACA,4B;AACA,e;AACA,S;AACA,M;;AAEA,4B;AACA,kE;AACA,M;;AAEA,oC;AACA,iE;AACA,M;;AAEA,oC;AACA,qE;AACA,M;;AAEA,mC;AACA,qE;AACA,M;;AAEA,kC;AACA,gF;AACA,4E;AACA,kE;AACA,8D;AACA,4D;AACA,M;;AAEA,oC;AACA,2F;AACA,2F;AACA,kE;AACA,M;;AAEA,+C;AACA,+E;AACA,M;;AAEA,kC;AACA,+D;AACA,K;AACA,G;;AAEA,+B;AACA,yD;AACA,0F;AACA,2D;AACA,mF;AACA,qE;AACA,6C;AACA,oF;AACA,0E;AACA,gB;AACA,6D;AACA,S;AACA,M;;AAEA,iE;AACA,qC;AACA,uD;AACA,mF;AACA,wE;AACA,wE;AACA,qD;AACA,yF;AACA,gB;AACA,qF;AACA,S;AACA,gC;AACA,qB;AACA,M;;AAEA,2I;AACA,+C;AACA,mG;AACA,4D;AACA,6D;AACA,Y;;AAEA,gF;AACA,+D;AACA,uG;AACA,kE;AACA,yC;AACA,M;;AAEA,8E;AACA,+D;AACA,uG;AACA,uE;AACA,sC;AACA,kC;AACA,S;AACA,8B;AACA,0B;AACA,S;AACA,2E;AACA,yC;AACA,M;;AAEA,yE;AACA,uG;AACA,6D;AACA,sD;AACA,qD;AACA,M;;AAEA,qE;AACA,uG;AACA,6D;AACA,sD;AACA,qD;AACA,K;AACA,G","sourcesContent":["\nTemplate.__checkName(\"reactiveTable\");\nTemplate[\"reactiveTable\"] = new Template(\"Template.reactiveTable\", (function() {\n  var view = this;\n  return Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"generateSettings\"));\n  }, function() {\n    return [ \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"showFilter\"));\n    }, function() {\n      return [ \"\\n      \", HTML.DIV({\n        \"class\": \"form-group reactive-table-filter\",\n        \"reactive-table-group\": function() {\n          return Spacebars.mustache(view.lookup(\"group\"));\n        }\n      }, \"\\n        \", HTML.DIV({\n        \"class\": \"input-group col-sm-4 col-sm-offset-8\"\n      }, \"\\n          \", HTML.SPAN({\n        \"class\": \"input-group-addon\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"useFontAwesome\"));\n      }, function() {\n        return [ \"\\n              \", HTML.I({\n          \"class\": \"fa fa-filter\"\n        }), \"\\n            \" ];\n      }, function() {\n        return [ \"\\n              \", Blaze.View(function() {\n          return Spacebars.mustache(view.lookup(\"i18n\"), \"reactiveTable.filter\");\n        }), \"\\n            \" ];\n      }), \"\\n          \"), \"\\n          \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"useFontAwesome\"));\n      }, function() {\n        return [ \"\\n\t        \", HTML.INPUT({\n          \"class\": \"reactive-table-input form-control\",\n          type: \"text\",\n          value: function() {\n            return Spacebars.mustache(view.lookup(\"filter\"));\n          },\n          placeholder: function() {\n            return Spacebars.mustache(view.lookup(\"i18n\"), \"reactiveTable.filter\");\n          }\n        }), \"\\n          \" ];\n      }, function() {\n        return [ \"\\n\t        \", HTML.INPUT({\n          \"class\": \"reactive-table-input form-control\",\n          type: \"text\",\n          value: function() {\n            return Spacebars.mustache(view.lookup(\"filter\"));\n          }\n        }), \"\\n          \" ];\n      }), \"\\n        \"), \"\\n      \"), \"\\n    \" ];\n    }), \"\\n    \", HTML.TABLE({\n      \"class\": function() {\n        return [ Spacebars.mustache(view.lookup(\"hasClass\"), view.lookup(\"..\")), \" reactive-table\" ];\n      },\n      \"reactive-table-group\": function() {\n        return Spacebars.mustache(view.lookup(\"group\"));\n      }\n    }, \"\\n      \", HTML.THEAD(\"\\n        \", HTML.TR(\"\\n          \", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"fields\"));\n    }, function() {\n      return [ \"\\n            \", Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"isVisible\"), view.lookup(\".\"), Spacebars.dot(view.lookup(\"..\"), \"group\"), Spacebars.dot(view.lookup(\"..\"), \"fields\"));\n      }, function() {\n        return [ \"\\n              \", Blaze.If(function() {\n          return Spacebars.dataMustache(view.lookup(\"isSortKey\"), view.lookup(\".\"), Spacebars.dot(view.lookup(\"..\"), \"group\"), Spacebars.dot(view.lookup(\"..\"), \"fields\"));\n        }, function() {\n          return [ \"\\n                \", HTML.TH({\n            \"class\": function() {\n              return [ Spacebars.mustache(view.lookup(\"getKey\")), \" sortable\" ];\n            },\n            index: function() {\n              return Spacebars.mustache(view.lookup(\"getFieldIndex\"), Spacebars.dot(view.lookup(\"..\"), \"fields\"));\n            }\n          }, \"\\n                  \", Blaze.View(function() {\n            return Spacebars.mustache(view.lookup(\"getLabel\"));\n          }), HTML.CharRef({\n            html: \"&nbsp;\",\n            str: \" \"\n          }), HTML.CharRef({\n            html: \"&nbsp;\",\n            str: \" \"\n          }), \"\\n                  \", Blaze.If(function() {\n            return Spacebars.dataMustache(view.lookup(\"isAscending\"), Spacebars.dot(view.lookup(\"..\"), \"group\"));\n          }, function() {\n            return [ \"\\n                    \", Blaze.If(function() {\n              return Spacebars.call(Spacebars.dot(view.lookup(\"..\"), \"useFontAwesome\"));\n            }, function() {\n              return [ \"\\n                      \", HTML.I({\n                \"class\": \"fa fa-sort-asc\"\n              }), \"\\n                    \" ];\n            }, function() {\n              return [ \"\\n                      \", HTML.CharRef({\n                html: \"&#x25BC;\",\n                str: \"▼\"\n              }), \"\\n                    \" ];\n            }), \"\\n                  \" ];\n          }, function() {\n            return [ \"\\n                    \", Blaze.If(function() {\n              return Spacebars.call(Spacebars.dot(view.lookup(\"..\"), \"useFontAwesome\"));\n            }, function() {\n              return [ \"\\n                      \", HTML.I({\n                \"class\": \"fa fa-sort-desc\"\n              }), \"\\n                    \" ];\n            }, function() {\n              return [ \"\\n                      \", HTML.CharRef({\n                html: \"&#x25B2;\",\n                str: \"▲\"\n              }), \"\\n                    \" ];\n            }), \"\\n                  \" ];\n          }), \"\\n                \"), \"\\n              \" ];\n        }, function() {\n          return [ \"\\n                \", Blaze.If(function() {\n            return Spacebars.call(view.lookup(\"isSortable\"));\n          }, function() {\n            return [ \"\\n                  \", HTML.TH({\n              \"class\": function() {\n                return [ Spacebars.mustache(view.lookup(\"getKey\")), \" sortable\" ];\n              },\n              index: function() {\n                return Spacebars.mustache(view.lookup(\"getFieldIndex\"), Spacebars.dot(view.lookup(\"..\"), \"fields\"));\n              }\n            }, Blaze.View(function() {\n              return Spacebars.mustache(view.lookup(\"getLabel\"));\n            })), \"\\n                \" ];\n          }, function() {\n            return [ \"\\n                  \", HTML.TH({\n              \"class\": function() {\n                return Spacebars.mustache(view.lookup(\"getKey\"));\n              },\n              index: function() {\n                return Spacebars.mustache(view.lookup(\"getFieldIndex\"), Spacebars.dot(view.lookup(\"..\"), \"fields\"));\n              }\n            }, Blaze.View(function() {\n              return Spacebars.mustache(view.lookup(\"getLabel\"));\n            })), \"\\n                \" ];\n          }), \"\\n              \" ];\n        }), \"\\n            \" ];\n      }), \"\\n          \" ];\n    }), \"\\n          \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"showColumnToggles\"));\n    }, function() {\n      return [ \"\\n              \", HTML.TH({\n        \"class\": \"reactive-table-add-column\"\n      }, \"\\n                \", HTML.DIV({\n        \"class\": \"dropdown\"\n      }, \"\\n                  \", HTML.BUTTON({\n        \"class\": \"btn btn-default btn-xs dropdown-toggle\",\n        id: function() {\n          return [ \"reactive-table-add-column-\", Spacebars.mustache(view.lookup(\"group\")) ];\n        },\n        \"data-toggle\": \"dropdown\"\n      }, \"\\n                    +/-\\n                  \"), \"\\n                  \", HTML.UL({\n        \"class\": \"dropdown-menu dropdown-menu-right\",\n        role: \"menu\",\n        \"aria-labelledby\": function() {\n          return [ \"reactive-table-add-column-\", Spacebars.mustache(view.lookup(\"group\")) ];\n        }\n      }, \"\\n                    \", Blaze.Each(function() {\n        return Spacebars.call(view.lookup(\"fields\"));\n      }, function() {\n        return [ \"\\n                      \", HTML.LI({\n          role: \"presentation\"\n        }, HTML.A({\n          role: \"menuitem\",\n          tabindex: \"-1\",\n          \"data-target\": \"#\"\n        }, \"\\n                        \", HTML.LABEL(\"\\n                          \", Blaze.If(function() {\n          return Spacebars.dataMustache(view.lookup(\"isVisible\"), view.lookup(\".\"), Spacebars.dot(view.lookup(\"..\"), \"group\"), Spacebars.dot(view.lookup(\"..\"), \"fields\"));\n        }, function() {\n          return [ \"\\n                            \", HTML.INPUT({\n            type: \"checkbox\",\n            checked: \"\",\n            index: function() {\n              return Spacebars.mustache(view.lookup(\"getFieldIndex\"), Spacebars.dot(view.lookup(\"..\"), \"fields\"));\n            }\n          }), \"\\n                          \" ];\n        }, function() {\n          return [ \"\\n                            \", HTML.INPUT({\n            type: \"checkbox\",\n            index: function() {\n              return Spacebars.mustache(view.lookup(\"getFieldIndex\"), Spacebars.dot(view.lookup(\"..\"), \"fields\"));\n            }\n          }), \"\\n                          \" ];\n        }), \"\\n                          \", Blaze.View(function() {\n          return Spacebars.mustache(view.lookup(\"getLabel\"));\n        }), \"\\n                        \"), \"\\n                      \")), \"\\n                    \" ];\n      }), \"\\n                  \"), \"\\n                \"), \"\\n              \"), \"\\n          \" ];\n    }), \"\\n        \"), \"\\n      \"), \"\\n      \", HTML.TBODY(\"\\n        \", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"sortedRows\"));\n    }, function() {\n      return [ \"\\n          \", HTML.TR({\n        \"class\": function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"..\"), \"rowClass\"), view.lookup(\".\"));\n        }\n      }, \"\\n            \", Blaze.Each(function() {\n        return Spacebars.call(Spacebars.dot(view.lookup(\"..\"), \"fields\"));\n      }, function() {\n        return [ \"\\n              \", Blaze.If(function() {\n          return Spacebars.dataMustache(view.lookup(\"isVisible\"), view.lookup(\".\"), Spacebars.dot(view.lookup(\"...\"), \"group\"), Spacebars.dot(view.lookup(\"...\"), \"fields\"));\n        }, function() {\n          return [ \"\\n                \", HTML.TD({\n            \"class\": function() {\n              return Spacebars.mustache(view.lookup(\"key\"));\n            }\n          }, Blaze.If(function() {\n            return Spacebars.call(view.lookup(\"tmpl\"));\n          }, function() {\n            return Spacebars.With(function() {\n              return Spacebars.call(view.lookup(\"..\"));\n            }, function() {\n              return Spacebars.include(function() {\n                return Spacebars.call(Spacebars.dot(view.lookup(\"..\"), \"tmpl\"));\n              });\n            });\n          }, function() {\n            return Blaze.View(function() {\n              return Spacebars.mustache(view.lookup(\"getField\"), view.lookup(\"..\"));\n            });\n          })), \"\\n              \" ];\n        }), \"\\n            \" ];\n      }), \"\\n          \"), \"\\n        \" ];\n    }), \"\\n      \"), \"\\n    \"), \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"showNavigation\"));\n    }, function() {\n      return [ \"\\n      \", HTML.DIV({\n        \"class\": \"reactive-table-navigation\",\n        \"reactive-table-group\": function() {\n          return Spacebars.mustache(view.lookup(\"group\"));\n        }\n      }, \"\\n        \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"showNavigationRowsPerPage\"));\n      }, function() {\n        return [ \"\\n          \", HTML.DIV({\n          \"class\": \"form-inline form-group rows-per-page\"\n        }, \"\\n            \", HTML.LABEL(Blaze.View(function() {\n          return Spacebars.mustache(view.lookup(\"i18n\"), \"reactiveTable.show\");\n        }), HTML.CharRef({\n          html: \"&nbsp;\",\n          str: \" \"\n        }), HTML.INPUT({\n          \"class\": \"form-control\",\n          type: \"text\",\n          value: function() {\n            return Spacebars.mustache(view.lookup(\"getRowsPerPage\"));\n          }\n        }), HTML.CharRef({\n          html: \"&nbsp;\",\n          str: \" \"\n        }), Blaze.View(function() {\n          return Spacebars.mustache(view.lookup(\"i18n\"), \"reactiveTable.rowsPerPage\");\n        })), \"\\n          \"), \"\\n        \" ];\n      }), \"\\n        \", HTML.DIV({\n        \"class\": \"form-inline form-group page-number\"\n      }, \"\\n          \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"isntFirstPage\"));\n      }, function() {\n        return [ \"\\n            \", HTML.LABEL({\n          \"class\": \"previous-page\"\n        }, HTML.CharRef({\n          html: \"&lt;\",\n          str: \"<\"\n        })), HTML.CharRef({\n          html: \"&nbsp;\",\n          str: \" \"\n        }), HTML.CharRef({\n          html: \"&nbsp;\",\n          str: \" \"\n        }), \"\\n          \" ];\n      }), \"\\n          \", HTML.LABEL(Blaze.View(function() {\n        return Spacebars.mustache(view.lookup(\"i18n\"), \"reactiveTable.page\");\n      }), HTML.CharRef({\n        html: \"&nbsp;\",\n        str: \" \"\n      }), HTML.INPUT({\n        \"class\": \"form-control\",\n        type: \"text\",\n        value: function() {\n          return Spacebars.mustache(view.lookup(\"getCurrentPage\"));\n        }\n      }), HTML.CharRef({\n        html: \"&nbsp;\",\n        str: \" \"\n      }), Blaze.View(function() {\n        return Spacebars.mustache(view.lookup(\"i18n\"), \"reactiveTable.of\");\n      }), \" \", Blaze.View(function() {\n        return Spacebars.mustache(view.lookup(\"getPageCount\"));\n      })), \"\\n          \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"isntLastPage\"));\n      }, function() {\n        return [ \"\\n            \", HTML.LABEL({\n          \"class\": \"next-page\"\n        }, HTML.CharRef({\n          html: \"&nbsp;\",\n          str: \" \"\n        }), HTML.CharRef({\n          html: \"&nbsp;\",\n          str: \" \"\n        }), HTML.CharRef({\n          html: \"&gt;\",\n          str: \">\"\n        })), \"\\n          \" ];\n      }), \"\\n        \"), \"\\n      \"), \"\\n    \" ];\n    }), \"\\n  \" ];\n  });\n}));\n","i18n.map('en', {\n    reactiveTable: {\n        filter: 'Filter',\n        show: 'Show',\n        rowsPerPage: 'rows per page',\n        page: 'Page',\n        of: 'of'\n    }\n});\n\ni18n.map('fr', {\n    reactiveTable: {\n        filter: 'Filtre',\n        show: 'Voir',\n        rowsPerPage: 'lignes par page',\n        page: 'page',\n        of: 'sur'\n    }\n});\n\ni18n.map('ru', {\n    reactiveTable: {\n        filter: 'Фильтр',\n        show: 'Показать',\n        rowsPerPage: 'линий на странице',\n        page: 'Страница',\n        of: 'из'\n    }\n});\n\ni18n.map('es', {\n    reactiveTable: {\n        filter: 'Filtro',\n        show:   'Mostrar',\n        rowsPerPage: 'filas por página',\n        page: 'Página',\n        of: 'de'\n    }\n});\n\ni18n.map('nl', {\n    reactiveTable: {\n        filter: 'Filter',\n        show:   'Toon',\n        rowsPerPage: 'regels per pagina',\n        page: 'Pagina',\n        of: 'van'\n    }\n});\n\ni18n.map('pt-br', {\n    reactiveTable: {\n        filter: 'Filtro',\n        show: 'Mostrar',\n        rowsPerPage: 'linhas por página',\n        page: 'Página',\n        of: 'de'\n    }\n});\n\ni18n.map('it', {\n    reactiveTable: {\n        filter: 'Filtra',\n        show: 'Mostra',\n        rowsPerPage: 'righe per pagina',\n        page: 'Pagina',\n        of: 'di'\n    }\n});\n\ni18n.map('sv', {\n    reactiveTable: {\n        filter: 'Filter',\n        show: 'Visa',\n        rowsPerPage: 'rader per sida',\n        page: 'Sida',\n        of: 'av'\n    }\n});\n\ni18n.map('ua', {\n    reactiveTable: {\n        filter: 'Фільтр',\n        show: 'Показати',\n        rowsPerPage: 'линій на страниці',\n        page: 'Страниця',\n        of: 'з'\n    }\n});\n\ni18n.map('tr', {\n    reactiveTable: {\n        filter: 'Filtrele',\n        show: 'Göster',\n        rowsPerPage: 'sayfa başı',\n        page: 'Sayfa',\n        of: ' / '\n    }\n});\n\ni18n.map('sk', {\n    reactiveTable: {\n        filter: 'Filter',\n        show: 'Zobraz',\n        rowsPerPage: 'riadkov na stranu',\n        page: 'Strana',\n        of: 'z'\n    }\n});\n\ni18n.map('cs', {\n    reactiveTable: {\n        filter: 'Filter',\n        show: 'Zobraz',\n        rowsPerPage: 'řádků na stranu',\n        page: 'Strana',\n        of: 'z'\n    }\n});\n\ni18n.map('he', {\n    reactiveTable: {\n        filter: 'פילטר',\n        show: 'הצג',\n        rowsPerPage: 'שורות לעמוד',\n        page: 'עמוד',\n        of: 'מתוך'\n    }\n});\n\ni18n.map('de', {\n    reactiveTable: {\n        filter: 'Filter',\n        show: 'Zeige',\n        rowsPerPage: 'Zeilen pro Seite',\n        page: 'Seite',\n        of: 'von'\n    }\n});\n\ni18n.map('fi', {\n    reactiveTable: {\n        filter: 'Suodata',\n        show: 'Näytä',\n        rowsPerPage: 'riviä sivulla',\n        page: 'Sivu',\n        of: ' / '\n    }\n});\n\ni18n.map('no', {\n    reactiveTable: {\n        filter: 'Filter',\n        show: 'Vis',\n        rowsPerPage: 'rader per side',\n        page: 'Side',\n        of: 'av'\n    }\n});\n","var getSessionSortKey = function (group) {\n    return group + '-reactive-table-sort';\n};\n\nvar getSessionSortDirectionKey = function (group) {\n    return group + '-reactive-table-sort-direction';\n};\n\nvar getSessionRowsPerPageKey = function (group) {\n    return group + '-reactive-table-rows-per-page';\n};\n\nvar getSessionCurrentPageKey = function (group) {\n    return group + '-reactive-table-current-page';\n};\n\nvar getSessionFilterKey = function (group) {\n    return group + '-reactive-table-filter';\n};\n\nvar getSessionShowNavigationRowsPerPageKey = function (group) {\n    return group + '-reactive-table-show-navigationrowsperpage';\n};\n\nvar getSessionShowNavigationKey = function (group) {\n    return group + '-reactive-table-show-navigation';\n};\n\nvar getSessionVisibleFieldsKey = function (group) {\n    return group + '-reactive-table-visible-fields';\n};\n\nvar get = function(obj, field) {\n  var keys = field.split('.');\n  var value = obj;\n\n  _.each(keys, function (key) {\n      if (_.isObject(value) && _.isFunction(value[key])) {\n          value = value[key]();\n      } else if (_.isObject(value) && !_.isUndefined(value[key])) {\n          value = value[key];\n      } else {\n          value = null;\n      }\n  });\n\n  return value;\n};\n\nvar generateSettings =  function () {\n    var collection = this.collection || this;\n    var settings = this.settings || {};\n    var group = settings.group || 'reactive-table';\n    if (!(collection instanceof Meteor.Collection)) {\n        if (_.isArray(collection)) {\n            // collection is an array\n            // create a new collection from the data\n            var data = collection;\n            collection = new Meteor.Collection(null);\n            _.each(data, function (doc) {\n                collection.insert(doc);\n            });\n        } else if (_.isFunction(collection.fetch)) {\n            // collection is a cursor\n            // create a new collection that will reactively update\n            var cursor = collection;\n            collection = new Meteor.Collection(null);\n            var addedCallback = function (doc) {\n                collection.insert(doc);\n            };\n            var changedCallback = function (doc, oldDoc) {\n                collection.update(oldDoc._id, doc);\n            };\n            var removedCallback = function (oldDoc) {\n                collection.remove(oldDoc._id);\n            };\n            cursor.observe({added: addedCallback, changed: changedCallback, removed: removedCallback});\n        } else {\n            console.log(\"reactiveTable error: argument is not an instance of Meteor.Collection, a cursor, or an array\");\n            collection = new Meteor.Collection(null);\n        }\n    }\n\n    var fields = settings.fields || {};\n    if (_.keys(fields).length < 1 ||\n        (_.keys(fields).length === 1 &&\n         _.keys(fields)[0] === 'hash')) {\n        fields = _.without(_.keys(collection.findOne() || {}), '_id');\n    }\n\n    var normalizeField = function (field) {\n        if (typeof field === 'string') {\n            return {key: field, label: field};\n        } else {\n            return field;\n        }\n    };\n\n    var parseField = function (field, i) {\n        if (field.sort) {\n            settings.sortKey = i;\n            if (field.sort === 'desc' || field.sort === 'descending'  || field.sort === -1) {\n                settings.sortDirectionKey = -1;\n            }\n        }\n        return normalizeField(field);\n    };\n\n    fields = _.map(fields, parseField);\n\n    var visibleFields = [];\n    _.each(fields, function (field, i) {\n        if (!field.hidden || (_.isFunction(field.hidden) && !field.hidden())) {\n          visibleFields.push(i);\n        }\n    });\n\n    Session.setDefault(getSessionSortKey(group), settings.sortKey || 0);\n    Session.setDefault(getSessionSortDirectionKey(group), settings.sortDirectionKey || 1);\n    Session.setDefault(getSessionRowsPerPageKey(group), settings.rowsPerPage || 10);\n    Session.setDefault(getSessionCurrentPageKey(group), 0);\n    Session.setDefault(getSessionShowNavigationRowsPerPageKey(group), (settings.showNavigationRowsPerPage === undefined) || settings.showNavigationRowsPerPage );\n    Session.setDefault(getSessionShowNavigationKey(group), settings.showNavigation || 'always');\n    Session.setDefault(getSessionFilterKey(group), null);\n    if (visibleFields.length > 0) {\n        Session.setDefault(getSessionVisibleFieldsKey(group), visibleFields);\n    }\n    var showFilter = (typeof settings.showFilter === \"undefined\" ? true : settings.showFilter);\n\n    var rowClass = settings.rowClass || function() {return ''};\n    if (typeof rowClass === 'string') {\n        var tmp = rowClass;\n        rowClass = function(obj) { return tmp; };\n    }\n\n    return {\n        group: group,\n        collection: collection,\n        settings: settings,\n        fields: fields,\n        useFontAwesome: settings.useFontAwesome,\n        showFilter: showFilter,\n        showColumnToggles: settings.showColumnToggles,\n        rowClass: rowClass\n    };\n};\n\nvar parseFilterString = function (filterString) {\n    var startQuoteRegExp = /^[\\'\\\"]/;\n    var endQuoteRegExp = /[\\'\\\"]$/;\n    var filters = [];\n    var words = filterString.split(' ');\n\n    var inQuote = false;\n    var quotedWord = '';\n    _.each(words, function (word) {\n        if (inQuote) {\n            if (endQuoteRegExp.test(word)) {\n                filters.push(quotedWord + ' ' + word.slice(0, word.length - 1));\n                inQuote = false;\n                quotedWord = '';\n            } else {\n                quotedWord = quotedWord + ' ' + word;\n            }\n        } else if (startQuoteRegExp.test(word)) {\n            if (endQuoteRegExp.test(word)) {\n                filters.push(word.slice(1, word.length - 1));\n            } else {\n                inQuote = true;\n                quotedWord = word.slice(1, word.length);\n            }\n        } else {\n            filters.push(word);\n        }\n    });\n    return filters;\n};\n\nvar getFilterQuery = function (group, fields) {\n    var numberRegExp = /^\\d+$/;\n    var filter = Session.get(getSessionFilterKey(group));\n    var queryList = [];\n    if (filter) {\n        var filters = parseFilterString(filter);\n        _.each(filters, function (filterWord) {\n            var filterQueryList = [];\n            _.each(fields, function (field) {\n                var filterRegExp = new RegExp(filterWord, 'i');\n                var query = {};\n                query[field.key || field] = filterRegExp;\n                filterQueryList.push(query);\n                \n                if (numberRegExp.test(filterWord)) {\n                    var numberQuery = {};\n                    numberQuery[field.key || field] = parseInt(filterWord, 10);\n                    filterQueryList.push(numberQuery)\n                }\n            });\n            if (filterQueryList.length) {\n                var filterQuery = {'$or': filterQueryList};\n                queryList.push(filterQuery);\n            }\n        });\n    }\n    return queryList.length ? {'$and': queryList} : {};\n};\n\nTemplate.reactiveTable.getPageCount = function () {\n    var rowsPerPage = Session.get(getSessionRowsPerPageKey(this.group));\n    var filterQuery = getFilterQuery(this.group, this.fields);\n    var count = this.collection.find(filterQuery).count();\n    return Math.ceil(count / rowsPerPage);\n};\n\nTemplate.reactiveTable.helpers({\n    'generateSettings': generateSettings,\n\n    'getField': function (object) {\n        var fn = this.fn || function (value) { return value; };\n        var key = this.key || this;\n        var value = get(object, key);\n        return fn(value, object);\n    },\n\n    'getFieldIndex': function (fields) {\n        return _.indexOf(fields, this);\n    },\n\n    'getKey': function () {\n        return this.key || this;\n    },\n\n    'getLabel': function () {\n        return _.isString(this.label) ? this.label : this;\n    },\n\n    'isSortKey': function (field, group, fields) {\n        return Session.equals(getSessionSortKey(group), _.indexOf(fields, field));\n    },\n\n    'isSortable': function () {\n        return true;\n    },\n\n    'isVisible': function (field, group, fields) {\n        return _.include(Session.get(getSessionVisibleFieldsKey(group)), _.indexOf(fields, field));\n    },\n\n    'isAscending' : function (group) {\n        var sortDirection = Session.get(getSessionSortDirectionKey(group));\n        return (sortDirection === 1);\n    },\n\n    'sortedRows': function () {\n        var sortDirection = Session.get(getSessionSortDirectionKey(this.group));\n        var sortKeyIndex = Session.get(getSessionSortKey(this.group));\n        var sortKeyField = this.fields[sortKeyIndex] || {};\n\n        var limit = Session.get(getSessionRowsPerPageKey(this.group));\n        var currentPage = Session.get(getSessionCurrentPageKey(this.group));\n        var skip = currentPage * limit;\n        var filterQuery = getFilterQuery(this.group, this.fields);\n\n        if (sortKeyField.fn && !sortKeyField.sortByValue) {\n            var data = this.collection.find(filterQuery).fetch();\n            var sorted =_.sortBy(data, function (object) {\n                return sortKeyField.fn(object[sortKeyField.key], object);\n            });\n            if (sortDirection === -1) {\n                sorted = sorted.reverse();\n            }\n            return sorted.slice(skip, skip + limit);\n        } else {\n            var sortKey = sortKeyField.key || sortKeyField;\n            var sortQuery = {};\n            sortQuery[sortKey] = sortDirection;\n\n            return this.collection.find(filterQuery, {\n                sort: sortQuery,\n                skip: skip,\n                limit: limit\n            });\n        }\n    },\n\n    'filter' : function () {\n        return Session.get(getSessionFilterKey(this.group)) || '';\n    },\n\n    'getRowsPerPage' : function () {\n        return Session.get(getSessionRowsPerPageKey(this.group));\n    },\n\n    'getCurrentPage' : function () {\n        return 1 + Session.get(getSessionCurrentPageKey(this.group));\n    },\n\n    'isntFirstPage' : function () {\n        return Session.get(getSessionCurrentPageKey(this.group)) > 0;\n    },\n\n    'isntLastPage' : function () {\n        var currentPage = 1 + Session.get(getSessionCurrentPageKey(this.group));\n        var rowsPerPage = Session.get(getSessionRowsPerPageKey(this.group));\n        var filterQuery = getFilterQuery(this.group, this.fields);\n        var count = this.collection.find(filterQuery).count();\n        return currentPage < Math.ceil(count / rowsPerPage);\n    },\n\n    'showNavigation' : function () {\n        if (Session.get(getSessionShowNavigationKey(this.group)) === 'always') return true;\n        if (Session.get(getSessionShowNavigationKey(this.group)) === 'never') return false;\n        return Template.reactiveTable.getPageCount.call(this) > 1;\n    },\n\n    'showNavigationRowsPerPage' : function () {\n        return Session.get(getSessionShowNavigationRowsPerPageKey(this.group));\n    },\n\n    'hasClass' : function (data) {\n        return data.class || 'table table-striped table-hover';\n    }\n});\n\nTemplate.reactiveTable.events({\n    'click .reactive-table .sortable': function (event) {\n        var target = $(event.target).is('i') ? $(event.target).parent() : $(event.target);\n        var sortIndex = parseInt(target.attr('index'), 10);\n        var group = target.parents('.reactive-table').attr('reactive-table-group');\n        var currentSortIndex = Session.get(getSessionSortKey(group));\n        if (currentSortIndex === sortIndex) {\n            var sortDirection = -1 * Session.get(getSessionSortDirectionKey(group));\n            Session.set(getSessionSortDirectionKey(group), sortDirection);\n        } else {\n            Session.set(getSessionSortKey(group), sortIndex);\n        }\n    },\n\n    'change .reactive-table-add-column input': function (event) {\n        var target = $(event.target);\n        var index = parseInt(target.attr('index'), 10);\n        var group = target.parents('.reactive-table').attr('reactive-table-group');\n        var sessionVisibleFieldsKey = getSessionVisibleFieldsKey(group);\n        var currentVisibleFields = Session.get(sessionVisibleFieldsKey);\n        if (_.include(currentVisibleFields, index)) {\n            Session.set(sessionVisibleFieldsKey, _.without(currentVisibleFields, index));\n        } else {\n            Session.set(sessionVisibleFieldsKey, currentVisibleFields.concat(index));\n        }\n        event.stopPropagation();\n        return false;\n    },\n\n    'keyup .reactive-table-filter .reactive-table-input, input .reactive-table-filter .reactive-table-input': _.debounce(function (event) {\n        var filterText = $(event.target).val();\n        var group = $(event.target).parents('.reactive-table-filter').attr('reactive-table-group');\n        Session.set(getSessionFilterKey(group), filterText);\n        Session.set(getSessionCurrentPageKey(this.group), 0);\n    }, 200),\n\n    'change .reactive-table-navigation .rows-per-page input': function (event) {\n        var rowsPerPage = Math.max(~~$(event.target).val(), 1);\n        var group = $(event.target).parents('.reactive-table-navigation').attr('reactive-table-group');\n        Session.set(getSessionRowsPerPageKey(group), rowsPerPage);\n        $(event.target).val(rowsPerPage);\n    },\n\n    'change .reactive-table-navigation .page-number input': function (event) {\n        var currentPage = Math.max(~~$(event.target).val(), 1);\n        var group = $(event.target).parents('.reactive-table-navigation').attr('reactive-table-group');\n        var pageCount = Template.reactiveTable.getPageCount.call(this);\n        if (currentPage > pageCount) {\n          currentPage = pageCount;\n        }\n        if (currentPage < 0) {\n          currentPage = 1;\n        }\n        Session.set(getSessionCurrentPageKey(this.group), currentPage - 1);\n        $(event.target).val(currentPage);\n    },\n\n    'click .reactive-table-navigation .previous-page': function (event) {\n        var group = $(event.target).parents('.reactive-table-navigation').attr('reactive-table-group');\n        var currentPageKey = getSessionCurrentPageKey(group);\n        var currentPage = Session.get(currentPageKey);\n        Session.set(currentPageKey, currentPage - 1);\n    },\n\n    'click .reactive-table-navigation .next-page': function (event) {\n        var group = $(event.target).parents('.reactive-table-navigation').attr('reactive-table-group');\n        var currentPageKey = getSessionCurrentPageKey(group);\n        var currentPage = Session.get(currentPageKey);\n        Session.set(currentPageKey, currentPage + 1);\n    }\n});\n"]}