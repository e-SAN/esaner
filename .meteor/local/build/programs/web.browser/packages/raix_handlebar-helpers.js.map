)]}'
{"version":3,"file":"/packages/raix:handlebar-helpers.js","sources":["raix:handlebar-helpers/helpers.operators.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,sB;AACA,2E;AACA,Q;AACA,uC;AACA,8C;AACA,kD;AACA,c;AACA,qD;AACA,O;AACA,K;AACA,I;AACA,C;;AAEA,e;AACA,qC;AACA,iB;AACA,C;;AAEA,gC;AACA,iD;AACA,2B;AACA,O;;AAEA,qD;AACA,uC;AACA,O;;AAEA,oD;AACA,sC;AACA,O;;AAEA,wD;AACA,4E;AACA,O;;AAEA,8C;AACA,2E;AACA,O;;AAEA,+C;AACA,2E;AACA,O;;AAEA,oD;AACA,8C;AACA,O;;AAEA,qD;AACA,8C;AACA,O;;AAEA,+C;AACA,gC;AACA,O;;AAEA,8C;AACA,qB;AACA,O;;AAEA,8C;AACA,qB;AACA,O;;AAEA,+C;AACA,sB;AACA,O;;AAEA,+C;AACA,sB;AACA,O;;;AAGA,+C;AACA,sB;AACA,O;;AAEA,8C;AACA,sB;AACA,O;;AAEA,4C;AACA,kB;AACA,O;;AAEA,iE;AACA,mC;AACA,O;;AAEA,kE;AACA,+C;AACA,8E;AACA,U;;AAEA,qF;AACA,W;AACA,sE;AACA,sE;AACA,mG;AACA,sE;;AAEA,8C;AACA,+B;;AAEA,sB;AACA,8C;AACA,qD;AACA,mC;AACA,gC;AACA,O;AACA,M;;AAEA,mC;AACA,6B;AACA,6B;AACA,M;;AAEA,sC;AACA,qE;AACA,sC;AACA,2B;AACA,uC;AACA,mC;AACA,2B;AACA,uC;AACA,mC;AACA,wD;AACA,4D;AACA,4E;AACA,2B;AACA,qD;AACA,kC;AACA,W;AACA,O;AACA,mC;AACA,iD;AACA,wL;AACA,M;;AAEA,M;AACA,+G;AACA,M;AACA,4B;;AAEA,4C;AACA,oC;AACA,0E;AACA,M;;AAEA,0C;AACA,qC;AACA,sC;AACA,M;AACA,I;AACA,yC;AACA,uC;;AAEA,uC;AACA,gC;AACA,O;AACA,C","sourcesContent":["// Forward compability\nif (typeof UI === 'undefined' || typeof UI.registerHelper !== 'function') {\n  UI = {\n    registerHelper: function(name, f) {\n      if (typeof Handlebars !== 'undefined') {\n        return Handlebars.registerHelper(name, f);\n      } else {\n        throw new Error('No UI or Handlebars found');\n      }\n    }\n  };\n}\n\n// Helper scope\nif (typeof Helpers === 'undefined') {\n    Helpers = {};\n}\n\nif (typeof UI !== 'undefined') {\n    UI.registerHelper('getLength', function (a) {\n      return a && a.length;\n    });\n\n    UI.registerHelper('isSelected', function (a, b) {\n      return (a === b)?' selected': '';\n    });\n\n    UI.registerHelper('isChecked', function (a, b) {\n      return (a === b)?' checked': '';\n    });\n\n    UI.registerHelper('cutString', function (str, len) {\n      return (str.length > len)?str.substr(0, Math.max(len-3, 0))+'...':str;\n    });\n\n    UI.registerHelper('$eq', function (a, b) {\n      return (a === b); //Only text, numbers, boolean - not array & objects\n    });\n\n    UI.registerHelper('$neq', function (a, b) {\n      return (a !== b); //Only text, numbers, boolean - not array & objects\n    });\n\n    UI.registerHelper('$in', function (a, b, c, d) {\n      return ( a === b || a === c || a === d);\n    });\n\n    UI.registerHelper('$nin', function (a, b, c, d) {\n      return ( a !== b && a !== c && a !== d);\n    });\n\n    UI.registerHelper('$exists', function (a) {\n      return ( a !== undefined);\n    });\n\n    UI.registerHelper('$lt', function (a, b) {\n      return (a < b);\n    });\n\n    UI.registerHelper('$gt', function (a, b) {\n      return (a > b);\n    });\n\n    UI.registerHelper('$lte', function (a, b) {\n      return (a <= b);\n    });\n\n    UI.registerHelper('$gte', function (a, b) {\n      return (a >= b);\n    });\n\n\n    UI.registerHelper('$and', function (a, b) {\n      return (a && b);\n    });\n\n    UI.registerHelper('$or', function (a, b) {\n      return (a || b);\n    });\n\n    UI.registerHelper('$not', function (a) {\n      return (!a);\n    });\n\n    UI.registerHelper('getText', function (text) { // Deprecating\n      return Helpers.getText(text);\n    });\n\n    // UI.registerHelper('userRole', function ( /* arguments */) {\n    //   var role = Session.get('currentRole');\n    //   return _.any(arguments, function(value) { return (value == role); });\n    // });\n\n    // expects an array: languageText['say.hello.to.me']['en'] = 'Say hello to me:)';\n    // ex.:\n    // getText('Say.Hello.To.Me') == 'say hello to me:)'; // lowercase\n    // getText('SAY.HELLO.TO.ME') == 'SAY HELLO TO ME:)'; // uppercase\n    // getText('Say.hello.to.me') == 'Say hello to me:)'; // uppercase first letter, rest lowercase\n    // getText('Say.Hello.To.Me') == 'Say Hello To Me:)'; // camelCase\n\n    var _languageDeps = new Deps.Dependency();\n    var currentLanguage = 'en';\n\n    // language = 'en'\n    Helpers.setLanguage = function(language) {\n      if (language && language !== currentLanguage) {\n        currentLanguage = language;\n        _languageDeps.changed();\n      }\n    };\n\n    Helpers.language = function() {\n      _languageDeps.depend();\n      return currentLanguage;\n    };\n\n    Helpers.getText = function(text) {\n      // handleCase will mimic text Case making src same case as text\n      function handleCase(text, src) {\n        // Return lowercase\n        if (text == text.toLowerCase())\n          return src.toLowerCase();\n        // Return uppercase\n        if (text == text.toUpperCase())\n          return src.toUpperCase();\n        // Return uppercase first letter, rest lowercase\n        if (text.substr(1) == text.substr(1).toLowerCase() )\n          return src.substr(0, 1).toUpperCase()+src.substr(1).toLowerCase();\n        // Return CamelCase\n        return src.replace(/( [a-z])/g, function($1){\n          return $1.toUpperCase();\n        });\n      }\n      var txt = text.toLowerCase();\n      // TODO: Tidy the return line - kinda messy\n      return handleCase(text, (languageText && languageText[txt])?( (languageText[txt][Helpers.language()])?languageText[txt][Helpers.language()]: languageText[txt].en):'['+text+']' );\n    };\n\n    /*\n        Then $uper helper - Credit goes to @belisarius222 aka Ted Blackman for sparking an idear for a solution\n    */\n    Helpers.superScope = {};\n\n    Helpers.addScope = function(name, obj) {\n      // TODO: Get rid of underscore\n      Helpers.superScope[name] = _.bind(function() { return this; }, obj);\n    };\n\n    Helpers.removeScope = function(name) {\n      delete UI._globalHelpers[name];\n      delete Helpers.superScope[name];\n    };\n    \n    Helpers.addScope('Session', Session);\n    Helpers.addScope('Meteor', Meteor);\n\n    UI.registerHelper('$', function() {\n      return Helpers.superScope;\n    });\n}\n"]}