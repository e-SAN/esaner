)]}'
{"version":3,"file":"/packages/yogiben:autoform-modals.js","sources":["yogiben:autoform-modals/lib/client/modals.html","yogiben:autoform-modals/lib/client/modals.coffee"],"names":[],"mappings":"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","sourcesContent":["\nTemplate.__checkName(\"autoformModals\");\nTemplate[\"autoformModals\"] = new Template(\"Template.autoformModals\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"modal fade\",\n    id: \"afModal\"\n  }, \"\\n\t\t\", HTML.DIV({\n    \"class\": \"modal-dialog\"\n  }, \"\\n\t\t\t\", HTML.DIV({\n    \"class\": \"modal-content\"\n  }, \"\\n\t\t\t\t\", HTML.DIV({\n    \"class\": \"modal-header\"\n  }, \"\\n\t\t\t\t\t\", HTML.Raw('<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>'), \"\\n\t\t\t\t\t\", HTML.H4({\n    \"class\": \"modal-title\"\n  }, Blaze.View(function() {\n    return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"cmTitle\")));\n  })), \"\\n\t\t\t\t\"), \"\\n\t\t\t\t\", HTML.DIV({\n    \"class\": \"modal-body\"\n  }, \"\\n\t\t\t\t\t\", Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"$and\"), view.lookup(\"cmCollection\"), view.lookup(\"cmOperation\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\t\", HTML.P(Blaze.View(function() {\n      return Spacebars.mustache(view.lookup(\"cmPrompt\"));\n    })), \"\\n\t\t\t\t\t\", Blaze.If(function() {\n      return Spacebars.dataMustache(view.lookup(\"$neq\"), view.lookup(\"cmOperation\"), \"remove\");\n    }, function() {\n      return [ \"\\n\t\t\t\t\t\", Blaze._TemplateWith(function() {\n        return {\n          title: Spacebars.call(\"Update your post\"),\n          id: Spacebars.call(\"cmForm\"),\n          collection: Spacebars.call(view.lookup(\"cmCollection\")),\n          doc: Spacebars.call(view.lookup(\"cmDoc\")),\n          type: Spacebars.call(view.lookup(\"cmOperation\")),\n          buttonContent: Spacebars.call(view.lookup(\"cmButtonContent\")),\n          fields: Spacebars.call(view.lookup(\"cmFields\")),\n          omitFields: Spacebars.call(view.lookup(\"cmOmitFields\")),\n          buttonClasses: Spacebars.call(view.lookup(\"cmButtonClasses\"))\n        };\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"quickForm\"));\n      }), \"\\n\t\t\t\t\t\" ];\n    }), \"\\n\t\t\t\t\t\" ];\n  }), \"\\n\t\t\t\t\"), \"\\n\t\t\t\t\", Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"$eq\"), view.lookup(\"cmOperation\"), \"remove\");\n  }, function() {\n    return [ \"\\n\t\t\t\t\", HTML.DIV({\n      \"class\": \"modal-footer\"\n    }, \"\\n\t\t\t\t\t\", HTML.BUTTON({\n      \"class\": function() {\n        return Spacebars.mustache(view.lookup(\"cmButtonClasses\"));\n      }\n    }, Blaze.View(function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"cmButtonContent\")));\n    })), \"\\n\t\t\t\t\"), \"\\n\t\t\t\t\" ];\n  }), \"\\n\t\t\t\"), \"\\n\t\t\"), \"\\n\t\");\n}));\n","# Template.CollectionModalButton.events\n# \t'click .collection-modals': (e,t) ->\n# \t\t$('#collection-modal').modal('show')\n# \t\tcollection = $(e.currentTarget).attr('collection')\n# \t\toperation = $(e.currentTarget).attr('operation')\n# \t\t_id = $(e.currentTarget).attr('doc')\n# \t\tomitFields = $(e.currentTarget).attr('omitFields')\n# \t\tdoc = window[collection].findOne _id:_id\n# \t\thtml = $(e.currentTarget).html()\n\n# \t\tSession.set('cmCollection',collection)\n# \t\tSession.set('cmOperation',operation)\n# \t\tSession.set('cmDoc',doc)\n# \t\tSession.set('cmButtonHtml',html)\n# \t\tSession.set('cmOmitFields',omitFields)\n\nTemplate.autoformModals.events\n\t'click button:not(.close)': () ->\n\t\tcollection = Session.get 'cmCollection'\n\t\t_id = Session.get('cmDoc')._id\n\t\toperation = Session.get 'cmOperation'\n\t\t\n\t\tif operation == 'remove'\n\t\t\twindow[collection].remove _id, (e)->\n\t\t\t\tif e\n\t\t\t\t\talert 'Sorry, this could not be deleted.'\n\t\t\t\telse\n\t\t\t\t\t$('#afModal').modal('hide')\n\nTemplate.autoformModals.helpers\n\tcmCollection: () ->\n\t\tSession.get 'cmCollection'\n\tcmOperation: () ->\n\t\tSession.get 'cmOperation'\n\tcmDoc: () ->\n\t\tSession.get 'cmDoc'\n\tcmButtonHtml: () ->\n\t\tSession.get 'cmButtonHtml'\n\tcmFields: () ->\n\t\tSession.get 'cmFields'\n\tcmOmitFields: () ->\n\t\tSession.get 'cmOmitFields'\n\tcmButtonContent: () ->\n\t\tSession.get 'cmButtonContent'\n\tcmTitle: () ->\n\t\tSession.get 'cmTitle'\n\tcmButtonClasses: () ->\n\t\tSession.get 'cmButtonClasses'\n\tcmPrompt: () ->\n\t\tSession.get 'cmPrompt'\n\nTemplate.autoformModals.destroyed = -> $('body').unbind 'click'\n\nTemplate.autoformModals.rendered = () ->\n\t$('body').on \"click\", (e)->\n\t\tif $(e.target).attr('href') == '#afModal'\n\t\t\tcollection = $(e.target).attr('collection')\n\t\t\toperation = $(e.target).attr('operation')\n\t\t\t_id = $(e.target).attr('doc')\n\t\t\thtml = $(e.target).html()\n\n\t\t\tif $(e.target).attr('fields')\n\t\t\t\tfields = $(e.target).attr('fields')\n\t\t\telse\n\t\t\t\tomitFields = null\n\n\t\t\tif $(e.target).attr('omitFields')\n\t\t\t\tomitFields = $(e.target).attr('omitFields')\n\t\t\telse\n\t\t\t\tomitFields = null\n\n\n\t\t\tif $(e.target).attr('buttonClasses')\n\t\t\t\tbuttonClasses = $(e.target).attr('buttonClasses')\n\t\t\telse if operation == 'remove'\n\t\t\t\tbuttonClasses = 'btn btn-danger'\n\t\t\telse\n\t\t\t\tbuttonClasses = 'btn btn-primary'\n\n\n\t\t\tif $(e.target).attr('title')\n\t\t\t\ttitle = $(e.target).attr('title')\n\t\t\telse\n\t\t\t\ttitle = html\n\n\t\t\tif $(e.target).attr('buttonContent')\n\t\t\t\tbuttonContent = $(e.target).attr('buttonContent')\n\t\t\telse if operation == 'insert'\n\t\t\t\tbuttonContent = 'Create'\n\t\t\telse if operation == 'update'\n\t\t\t\tbuttonContent = 'Update'\n\t\t\telse if operation == 'remove'\n\t\t\t\tbuttonContent = 'Delete'\n\n\t\t\tif $(e.target).attr('prompt')\n\t\t\t\tprompt = $(e.target).attr('prompt')\n\t\t\telse if operation == 'remove'\n\t\t\t\tprompt = 'Are you sure?'\n\t\t\telse\n\t\t\t\tprompt = ''\n\n\t\t\tif _id\n\t\t\t\tdoc = window[collection].findOne _id:_id\n\n\t\t\tSession.set('cmCollection',collection)\n\t\t\tSession.set('cmOperation',operation)\n\t\t\tSession.set('cmDoc',doc)\n\t\t\tSession.set('cmButtonHtml',html)\n\t\t\tSession.set('cmFields',fields)\n\t\t\tSession.set('cmOmitFields',omitFields)\n\t\t\tSession.set('cmTitle',title)\n\t\t\tSession.set('cmButtonContent',buttonContent)\n\t\t\tSession.set('cmButtonClasses',buttonClasses)\n\t\t\tSession.set('cmPrompt',prompt)\n\nAutoForm.hooks(\n\tcmForm : \n\t\tonSuccess: (operation, result, template)->\n\t\t\t$('#afModal').modal('hide')\n\t\t)\n"]}