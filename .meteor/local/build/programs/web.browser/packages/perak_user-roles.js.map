)]}'
{"version":3,"file":"/packages/perak:user-roles.js","sources":["perak:user-roles/both/collections/users.js","perak:user-roles/client/helpers.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qB;;AAEA,0C;AACA,0C;AACA,kE;AACA,E;;AAEA,+C;AACA,yC;AACA,2B;AACA,e;AACA,E;;AAEA,oD;AACA,sC;AACA,e;AACA,E;AACA,a;AACA,E;;AAEA,mC;AACA,yC;AACA,E;;AAEA,iD;AACA,yE;AACA,E;;;;;;;;;;;;;;;;;;;AC1BA,iB;;AAEA,+B;AACA,wC;AACA,E;;AAEA,iD;AACA,+C;AACA,E;;AAEA,sD;AACA,oD;AACA,E;;AAEA,wC;AACA,wC;AACA,G","sourcesContent":["Users = Meteor.users;\n\nUsers.isInRole = function (userId, role) {\n  var user = Users.findOne({_id: userId});\n  return !!(user && user.roles && user.roles.indexOf(role) != -1);\n};\n\nUsers.isInRoles = function (userId, roleList) {\n\tvar user = Users.findOne({_id: userId});\n\tif(!user || !user.roles) {\n\t\treturn false;\n\t}\n\n\tvar granted = _.intersection(roleList, user.roles);\n\tif(!granted || granted.length == 0) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nUsers.isAdmin = function (userId) {\n  return Users.isInRole(userId, \"admin\");\n};\n\nUsers.isAdminOrInRole = function (userId, role) {\n  return Users.isInRole(userId, \"admin\") || Users.isInRole(userId, role);\n};\n","var Helpers = {};\n\nHelpers.isAdmin = function() { \n  return Users.isAdmin(Meteor.userId());\n};\n\nHelpers.isUserInRole = function (role, options) {\n  return Users.isInRole(Meteor.userId(), role);\n};\n\nHelpers.isUserInRoles = function (roleList, options) {\n  return Users.isInRoles(Meteor.userId(), roleList);\n};\n\n_.each(Helpers, function (helper, key) {\n  Handlebars.registerHelper(key, helper)\n});"]}